
#Histogram Eq. 1
cdf = histogram.cumsum()
cdf = cdf/cdf[-1]
image_equalization = cdf[image]*255
image_equalization = image_equalization/np.amax(image_equalization)
image_equalization = np.clip(image_equalization, 0, 255)
plt.subplot(2,3,2)
plt.title("Equalized Image")
plt.imshow(image_equalization)

histogram2 = ndi.histogram(image_equalization, min=0, max=255, bins=256)
plt.subplot(2,3,5)
plt.title("Equalized Histogram")
plt.plot(histogram2)

#masking
mask_tulang = np.where(image >= 145, 1, 0)
dilatasi_tulang = ndi.binary_dilation(mask_tulang, iterations=5)
close_tulang = ndi.binary_closing(mask_tulang, iterations=5)
plt.subplot(2,3,3)
plt.title("Dilatasi")
plt.imshow(dilatasi_tulang)
mask_kulit = (image >= 45) & (image < 145)
plt.subplot(2,3,6)
plt.title("Close")
plt.imshow(close_tulang)
